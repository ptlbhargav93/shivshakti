:css
  body,div,table,thead,tbody,tfoot,tr,th,td,p { font-family:"Calibri"; font-size:medium; text-align: center; padding: 4px }
  a.comment-indicator:hover + comment { background:#ffd; position:absolute; display:block; border:1px solid black; padding:0.5em;  } 
  a.comment-indicator { background:red; display:inline-block; border:1px solid black; width:0.5em; height:0.5em;  } 
  comment { display:none;  }
- ist_time = Time.now.in_time_zone("Chennai")
- with_sign = @with_sign == "true"
- with_manual_sign = @with_manual_sign == "true"

- if @without_image == "true"
  %div{:style => "height: 260px"}
- else
  = wicked_pdf_image_tag "shivshakti_logo.png", :height => "230px", :width => "100%"

- subtotal = 0
- quntity = 0
- cgst = 0
- sgst = 0
- igst = 0
- if @customer_bill.customer_bill_products.count > 0
  - subtotal = @customer_bill.customer_bill_products.pluck(:rate).inject(:+)
  - subtotal = subtotal + @customer_bill.loading_amount if @customer_bill.loading_amount.present?
  - quntity = @customer_bill.customer_bill_products.pluck(:quantity).compact.inject(:+) || 0
- cgst = (subtotal*@customer_bill.cgst/100).round(2) if @customer_bill.cgst
- sgst = (subtotal*@customer_bill.sgst/100).round(2) if @customer_bill.sgst
- igst = (subtotal*@customer_bill.igst/100).round(2) if @customer_bill.igst
- total_gst_amount = cgst+sgst+igst
- total_tax_amount = @customer_bill.total_amount - subtotal
- quntity = quntity.to_i
%table{:border => "0", :cellspacing => "0"}
  %colgroup{:width => "71"}
  %colgroup{:width => "122"}
  %colgroup{:width => "90"}
  %colgroup{:width => "84"}
  %colgroup{:width => "6"}
  %colgroup{:width => "81"}
  %colgroup{:width => "120"}
  %colgroup{:width => "79"}
  %colgroup{:width => "100"}
  %colgroup{:width => "7"}
  %colgroup{:width => "105"}
  %colgroup{:width => "106"}
  %colgroup{:width => "87"}
  %colgroup{:width => "97"}
  %colgroup{:width => "129"}
  .col-xs-12
    %b 
      %font{:color => "#000000", :size => " 4"}
        = "TAX INVOICE"
  %tr
    %td{:align => "center", :colspan => "10", :height => "25", :valign => "middle"}
      %i
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "center", :colspan => "5", :style => "border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "3"} Original For Receipient
  %tr
    %td{:align => "left", :bgcolor => "#EBF1DE", :colspan => "9", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "4"} Details of Supplier
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "4"}
          %br/
    %td{:align => "left", :bgcolor => "#EBF1DE", :colspan => "5", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "4"} GSTIN : 24AHUPP1215B1ZN
  %tr
    %td{:align => "left", :colspan => "9", :height => "24", :style => "border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "4"} SHIV SHAKTI TRANSPORT CO.
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :face => "Times New Roman", :size => "4"}
        %br/
    %td{:align => "left", :bgcolor => "#EBF1DE", :colspan => "5", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "4"} PAN NO. : AHUPP1215B
  %tr
    %td{:align => "left", :colspan => "9", :height => "25", :style => "border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "4"} Address : 1, Ghanshyam Park Society,Nr. Over Bridge, S.P. Ring Road, Aslali, Ahmedabad
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Country
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} State
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Code
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} City
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Pin Code
  %tr
    %td{:align => "center", :colspan => "9", :height => "27", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} India
    %td{:align => "center", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Gujarat
    %td{:align => "center", :sdnum => "1033;", :sdval => "24", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} 24
    %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Ahmedabad
    %td{:align => "center", :sdnum => "1033;", :sdval => "382427", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} 382427
  %tr
    %td{:align => "left", :height => "20", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "center", :valign => "middle"}
      %i
        %font{:color => "#000000"}
          %br/
  %tr
    %td{:align => "left", :bgcolor => "#FDEADA", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} (Billed to)
    %td{:align => "left", :bgcolor => "#FDEADA", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :bgcolor => "#FDEADA", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :bgcolor => "#FDEADA", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FDEADA", :colspan=>"3", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} (Shipped to)
    %td{:align => "left", :bgcolor => "#FDEADA", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :bgcolor => "#EBF1DE", :colspan => "5", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Invoice Details : -
  %tr
    %td{:align => "left", :height => "41", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Name
    %td{:align => "left", :colspan => "3", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:face => "Times New Roman"}
          = @customer_bill.customer.b_name
          %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Name
    %td{:align => "left", :colspan => "3", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:face => "Times New Roman"}
          = @customer_bill.customer.s_name
          %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Invoice No
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} 
          = @customer_bill.invoice_number
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = "Date"
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000; text-align: left;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.invoice_date.to_datetime.to_s(:default_date)
  %tr
    %td{:align => "left", :height => "30", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Address
    %td{:align => "left", :colspan => "3", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.b_address
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Address
    %td{:align => "left", :colspan => "3", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.s_address
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Invoice Type
    %td{:align => "left", :colspan=>"2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = "SERVICE"
          %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Vendor Code
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        = @customer_bill.vendor_code
  %tr
    %td{:align => "left", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} City
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} 
        = @customer_bill.customer.b_city
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} PIN
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.b_pin_code
        %br/
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} City
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.s_city
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} PIN
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.s_pin_code
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} P.O. No.
    %td{:align => "left", :colspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.po_number
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"} P.O. Date
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "left", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} State
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} 
        = @customer_bill.customer.b_state
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Code
    %td{:align => "left", :bgcolor => "", :sdnum => "1033;", :sdval => "24", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} 
        = @customer_bill.customer.b_state_code
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} State
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.s_state
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Code
    %td{:align => "left", :sdnum => "1033;", :sdval => "24", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} 
        = @customer_bill.customer.s_state_code
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} L.R. No.
    %td{:align => "left", :colspan => "2", :sdnum => "1033;0;DD/MM/YYYY", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.lr_number
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = "L.R. Date"
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000; text-align: left;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.lr_date.to_datetime.to_s(:default_date)
  %tr
    %td{:align => "left", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Country
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.b_country
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} Country
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = @customer_bill.customer.s_country
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = "Vehical No."
    %td{:align => "left", :sdnum => "1033;0;DD/MM/YYYY", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle", :colspan => "3"}
      %font{:color => "#000000", :size => "3", :style => "float: left;"}
        = @customer_bill.customer_bill_products.pluck(:vehical_number).join(",")
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "left", :height => "30", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} GSTIN
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; min-width: 180px", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "3"}
          = @customer_bill.customer.b_gst_number
          %br/
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} GSTIN
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; min-width: 180px", :valign => "middle"}
      %b
        %font{:color => "#000000", :face => "Times New Roman", :size => "3"}
          = @customer_bill.customer.s_gst_number
          %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}Remark
    %td{:align => "left", :sdnum => "1033;0;DD/MM/YYYY", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle", :colspan => "3"}
      %font{:color => "#000000", :size => "3", :style => "float: left;"}
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "left", :height => "24", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "center", :height => "46", :rowspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          Sr.
          %br>/
          No.
    %td{:align => "center", :rowspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Ref. Invoice No.
    %td{:align => "left", :colspan => "8", :rowspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Description of Goods/Services
    %td{:align => "left", :rowspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} HSN/SAC Code
    %td{:align => "center", :rowspan => "2", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} UOM
    %td{:align => "center", :rowspan => "2", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Qty/Unit
    %td{:align => "center", :rowspan => "2", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Rate
    %td{:align => "center", :rowspan => "2", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Total Amount (Rs.)
  %tr
  - count = 0 
  - if @customer_bill.customer_bill_products.count > 0
    - count = @customer_bill.customer_bill_products.count
    - @customer_bill.customer_bill_products.each_with_index do |bill,idx|
      %tr
        - number = idx+1
        %td{:align => "center", :height => "29", :sdnum => "1033;", :sdval => "1", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"} 
            = number
        %td{:align => "center", :bgcolor => "", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            - if bill.ref_invoice_number.include? "OF" 
              - arr = bill.ref_invoice_number.split("OF")
              = arr[0]
              %br/
              = "OF" + arr[1]
            - else
              = bill.ref_invoice_number
            %br/
        %td{:align => "left", :colspan => "7", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            - a = number == 1 ? "GOODS AND TRANSPORT AGENCY SERVICE BY ROAD </br>".html_safe : ""
            - b = bill.from.present? ? "FROM #{bill.from} " : ""
            - c = bill.to.present? ? "TO #{bill.to} " : ""
            / - d = bill.vehical_number.present? ? "Vehical Number: #{bill.vehical_number}" : ""
            = a+b+c
        %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            %br/
        %td{:align => "center", :sdnum => "1033;", :sdval => "996511", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            = 996511 if number == 1
        %td{:align => "center", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            %br/
        %td{:align => "center", :bgcolor => "", :sdnum => "1033;", :sdval => "1", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            = bill.quantity.to_i
        %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3"}
            %br/
        %td{:align => "right", :bgcolor => "", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
          %font{:color => "#000000", :size => "3", :style => "float: right;"}
            = "#{('%.2f' % bill.rate) || 0.00}"
  - (7-count).times do |i|
    %tr
      %td{:align => "center", :height => "29", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "center", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
  - if @customer_bill.loading_text.present? || @customer_bill.loading_amount.present?
    %tr
      %td{:align => "center", :height => "29", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "center", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :colspan => 2, :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; text-align: left", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          = @customer_bill.loading_text
      %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3"}
          %br/
      %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
        %font{:color => "#000000", :size => "3", :style => "float: right;"}
          = "#{('%.2f' % (@customer_bill.loading_amount || 0.00)) }"
  %tr
    %td{:align => "left", :bgcolor => "#FFFF00", :height => "29", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "right", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "1", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = quntity
    %td{:align => "left", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "right", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3", :style => "float: right;"}
          = "#{('%.2f' % subtotal) || 0.00}"
  %tr
    %td{:align => "center", :height => "205", :rowspan => "6", :style => "border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          HSN / SAC
          %br/
          = succeed "CODE" do
            %br/
          %br/
          = succeed "SUMMARY" do
            %br/
    %td{:align => "center", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} HSN/SAC Code
    %td{:align => "center", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Qty
    %td{:align => "center", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "center", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Taxable Amount
    %td{:align => "center", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} 
          = "Tax Rate"
    %td{:align => "center", :style => "border-left: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = "Tax Amount"
    %td{:align => "left", :valign => "middle", :style => "border-bottom: 1px solid #000000;"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :valign => "middle", :style => "border-left: 1px solid #000000;"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :style => "border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} SGST
    %td{:align => "center", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = "#{('%.2f' % @customer_bill.sgst) || 0.00}%"
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3", :style => "float: right;"}
        - a = "#{('%.2f' % sgst) || 0.00}"
        = (a.to_f == 0) ? "0.00" : a
  %tr
    %td{:align => "center", :sdnum => "1033;", :sdval => "996511", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"} 996511
    %td{:align => "right", :sdnum => "1033;0;0%", :sdval => "0", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = quntity
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "1", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          / = @customer_bill.total_amount
          = (cgst > 0 || sgst > 0 || igst > 0) ? "#{('%.2f' % subtotal) || 0.00}" : "0.00"
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :sdval => "0", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          - a = (@customer_bill.cgst || 0.00) + (@customer_bill.sgst || 0.00) + (@customer_bill.igst || 0.00)
          = "#{('%.2f' % a) || 0.00}%"
    %td{:align => "left", :style => "", :valign => "middle", :style => "border-left: 1px solid #000000; border-bottom: 1px solid #000000;"}
      %b
        %font{:color => "#000000", :size => "3"}
          - a = "#{('%.2f' % total_gst_amount) || 0.00}"
          = total_gst_amount == 0 ? "0.00" : a
    %td{:align => "center", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :valign => "middle", :style => "border-left: 1px solid #000000" }
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} CGST
    %td{:align => "right", :sdnum => "1033;0;0.00%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = "#{('%.2f' % @customer_bill.cgst) || 0.00}%"
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3", :style => "float: right;"}
        - a = "#{('%.2f' % cgst) || 0.00}"
        = (a.to_f == 0) ? "0.00" : a
  / %tr
  /   %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :sdnum => "1033;0;0%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :bgcolor => "#FFFF00",:colspan=>6, :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"} TOTAL TAXABLE AMOUNT
  /   %td{:align => "right", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /         = "#{('%.2f' % subtotal) || 0.00}"
  %tr
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;0%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "center", :colspan => "2", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} IGST
    %td{:align => "center", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        = "#{('%.2f' % @customer_bill.igst) || 0.00}%" rescue "0.00%"
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3", :style => "float: right;"}
        - a = "#{('%.2f' % igst) || 0.00}"
        = (a.to_f == 0) ? "0.00" : a
  %tr
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;0%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "right", :sdnum => "1033;0;0.00%", :sdval => "0.025", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3", :style => "float: right;"}
  %tr
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;0%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "right", :sdnum => "1033;0;0.00%", :sdval => "0.025", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3", :style => "float: right;"}
  %tr
    %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left",:style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :colspan => 2, :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = "TOTAL TAX"
    %td{:align => "left", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3", :style => "float: right;"}
          = "#{('%.2f' % total_gst_amount) || 0.00}"
  %tr
    %td{:align => "left", :height => "29", :style => "border-left: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :sdnum => "1033;0;0%", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "1", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "3"}
        %br/
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          /= @customer_bill.total_amount
          / = "#{('%.2f' % subtotal) || 0.00}"
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0_);_(* \\(#,##0\\);_(* -??_);_(@_)", :sdval => "0", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; ", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          / = "#{('%.2f' % total_gst_amount) || 0.00}"
    %td{:align => "left", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "left", :style => "border-right: 1px solid #000000; border-bottom: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          %br/
    %td{:align => "left", :colspan => 2, :style => "border-top: 1px solid #000000; border-right: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
          = "TOTAL AMOUNT"
    %td{:align => "right", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "0", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3", :style => "float: right;"} 
          = "#{('%.2f' % (total_gst_amount+subtotal)) || 0.00}"
  / %tr
  /   %td{:align => "left", :height => "29", :style => "border-left: 1px solid #000000", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :valign => "middle"}
  /     %font{:color => "#000000", :size => "3"}
  /       %br/
  /   %td{:align => "left", :bgcolor => "#FFFF00", :colspan => 5, :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"} TOTAL TAX AMOUNT
  /   %td{:align => "left", :bgcolor => "#FFFF00", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /         %br/
  /   %td{:align => "right", :bgcolor => "#FFFF00", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "0", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /       = total_gst_amount == 0 ? "-" : total_gst_amount
  / %tr
  /   %td{:align => "center", :height => "54", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"} Invoice Value (Inwords) :
  /   %td{:align => "center", :colspan=>"7",  :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /     = number_to_currency_in_words(@customer_bill.total_amount, currency: :rupee).upcase

  /   %td{:align => "left", :colspan => 5,:style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /   %td{:align => "left", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"}
  /         %br/
  /   %td{:align => "right", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :sdval => "12500", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
  /     %b
  /       %font{:color => "#000000", :size => "3"} 
  %tr
    %td{:align => "center", :colspan => "6", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; padding: 12px", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
    %td{:align => "center", :colspan => "9", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"}
  %tr
    %td{:align => "left", :colspan => "6", :height => "32", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "4"} 
          = "REMARKS : GST IS PAYABLE UNDER RCM" unless total_gst_amount > 0 
    %td{:align => "left", :colspan => "9", :height => "32", :style => "border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "4"}
          = "Total Amount (In words) : #{number_to_currency_in_words(@customer_bill.total_amount, currency: :rupee).upcase}"
  %tr
    %td{:align => "left", :style => "border-left: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-right: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %tr
    %td{:align => "left", :style => "border-left: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "; border-bottom: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "; border-right: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "left", :bgcolor => "#FFFF00", :height => "19", :colspan => "2", :style => "border-top: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %b
        %i
          %font{:color => "#000000", :size => "3"}
            %u Bank Details
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-top: 1px solid #000000", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left",:rowspan => "3",:colspan => "3", :style => "border-top: 1px solid #000000; text-align: left", :valign => "middle"}
      %font{:color => "#000000"}
        = "Digitally signed by </br> Rajan Patel </br> #{ist_time.strftime("%Y.%m.%d")} </br> #{ist_time.strftime("%T %:z")}".html_safe if with_sign
    %td{:align => "center", :colspan => "4", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} 
          = "for, SHIV SHAKTI TRANSPORT CO." unless with_sign
  %tr
    %td{:align => "left", :bgcolor => "#FFFF00", :height => "20", :colspan => "2", :style => "border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %i
        %font{:color => "#000000", :size => "3"}
          %b
            = "HDFC Bank, Vatva Branch"
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    / %td{:align => "left", :valign => "middle"}
    /   %font{:color => "#000000"}
    /     %br/
    / %td{:align => "left", :valign => "middle"}
    /   %font{:color => "#000000"}
    /     %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle", :style => ""}
      %font{:color => "#000000", :size => "4"}
        %br/
    %td{:align => "left", :valign => "middle", :style => ""}
      %font{:color => "#000000", :size => "4"}
        %br/
    %td{:align => "left", :valign => "middle", :colspan => 2, :style => "text-align: right"}
      %font{:color => "#000000", :size => "4"}
        = "Rajan Patel" if with_sign

    %td{:align => "center", :colspan => "4", :rowspan => "2", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-right: 1px solid #000000", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "4"}
          = wicked_pdf_image_tag "signature.png", :height => "100px", :width => "150px" if with_manual_sign
  %tr
    %td{:align => "left", :bgcolor => "#FFFF00", :height => "25", :colspan => "2", :style => "border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %i
        %font{:color => "#000000", :size => "3"}
          %b
            = "A/c No. : 50200009679313"
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :valign => "middle"}
      %font{:color => "#000000", :size => "4"}
        %br/
    %td{:align => "left", :valign => "bottom"}
      %font{:color => "#000000"}
        %br/
  %tr
    %td{:align => "left", :bgcolor => "#FFFF00", :height => "28", :colspan => "2", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-bottom: 1px solid #000000; border-left: 1px solid #000000; text-align: left;", :valign => "middle"}
      %i
        %font{:color => "#000000", :size => "3"}
          %b
            = "IFSC Code : HDFC0000971"
    %td{:align => "left", :style => "border-bottom: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-bottom: 1px solid #000000;", :valign => "middle"}
      %font{:color => "#000000"}
        %br/
    %td{:align => "left", :style => "border-bottom: 1px solid #000000;", :colspan=>7, :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "3"} Subject to Ahmedabad, Gujarat Jurisdiction
    %td{:align => "center", :colspan => "4", :sdnum => "1033;0;_(* #,##0.00_);_(* \\(#,##0.00\\);_(* -??_);_(@_)", :style => "border-right: 1px solid #000000; border-bottom: 1px solid #000000;", :valign => "middle"}
      %b
        %font{:color => "#000000", :size => "4"} 
          = "Proprietor" unless with_sign